<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}SG Library{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root { --sidebar-w: 220px; }
  html, body { height: 100%; }
  body { background-color: #f8f9fa; overflow: hidden; font-size: .95rem; }

    .app { display: grid; grid-template-columns: var(--sidebar-w) 1fr; height: 100%; }
    @media (max-width: 767.98px) { .app { grid-template-columns: 1fr; } }

    .sidebar { position: relative; color:#fff; overflow: hidden; }
    .sidebar::before{
        content:"";
        position:absolute;
        inset:0;
      
        background-image:
          linear-gradient(rgba(0,0,0,.35), rgba(0,0,0,.35)),
          url("https://library.suss.edu.sg/wp-content/uploads/2023/11/Study-Space_High-table-2-cropped-300x200.png");
      
        background-repeat: no-repeat, no-repeat;
      
        background-size: 100% 100%, cover;
      
        background-position: center, left center;
      
        filter: brightness(1.3);
      }
    .sidebar > .inner{
      position:relative; z-index:1; height:100%;
      display:flex; flex-direction:column; gap:.75rem; padding:1rem;
    }


    .brand{
      font-family:'Open Sans',sans-serif; font-weight:600; font-size:1.4rem;
      letter-spacing:.5px; text-align:center; color:#fff;
    }
    .sidebar hr{ border-top:1px solid rgba(255,255,255,.7); margin:.5rem auto 1rem; width:80%; }
    .sidebar .menu-item{ display:flex; align-items:center; justify-content:center; gap:.5rem; }
    .sidebar .label{
      font-family:'Open Sans',sans-serif; font-weight:400; font-size:1rem; color:rgba(255,255,255,.85);
    }


    .main{ height:100%; overflow:auto; background:#f8f9fa; }

    .page-head{ position:sticky; top:0; z-index:20; border-bottom:1px solid rgba(0,0,0,.06); }

    .topbar-actions{ display:none; }
    @media (max-width: 767.98px){
      .topbar-actions{ display:flex; gap:.5rem; }
    }

    .book-card .card{ border:0; box-shadow:0 1px 4px rgba(0,0,0,.06); }
    .cover{ width:120px; height:160px; object-fit:cover; border-radius:.5rem; }
    @media (max-width: 991.98px){ .cover{ width:140px; height:190px; } }      /* md */
    @media (max-width: 767.98px){ .cover{ width:55vw; height:auto; } }          /* sm */
    @media (max-width: 575.98px){ .cover{ width:70vw; height:auto; } }          /* xs/very small */

    .bg-body-tertiary{ background-color:#eef2f5 !important; }
  </style>

  {% block head %}{% endblock %}
</head>
<body>

  <div class="app">
    <aside class="sidebar d-none d-md-block">
      <div class="inner text-center">
        <div class="brand mb-2">SG Library</div>
        <hr>
        <div class="menu-item">
          <i class="bi bi-person-vcard-fill fs-5"></i>
          <span class="label">Book Titles</span>
        </div>
        <div class="mt-auto"></div>
      </div>
    </aside>

    <!-- Main -->
    <div class="main">

      <div class="page-head {{ header_class|default('') }}">
        <div class="container py-3 d-flex align-items-center justify-content-between">
          <h1 class="h4 m-0">{% block page_title %}{% endblock %}</h1>

          <div class="topbar-actions">

            <button class="btn btn-outline-secondary btn-sm d-md-none"
                    type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas"
                    aria-controls="sidebarOffcanvas">
              <i class="bi bi-list"></i>
            </button>

            <button class="btn btn-outline-secondary btn-sm d-md-none"
                    type="button" data-bs-toggle="collapse" data-bs-target="#filtersCollapse"
                    aria-expanded="false" aria-controls="filtersCollapse">
              <i class="bi bi-sliders2"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Flash messages-->
      <div class="container mt-3">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }} mb-2">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
      </div>

      {% block content %}{% endblock %}
      <footer class="py-4"></footer>
    </div>
  </div>

  <!-- Offcanvas sidebar for small screens -->
  <div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="sidebarOffcanvas" aria-labelledby="sidebarOffcanvasLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="sidebarOffcanvasLabel">SG Library</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body" style="
      background:
        linear-gradient(rgba(0,0,0,.35), rgba(0,0,0,.35)),
        url('https://library.suss.edu.sg/wp-content/uploads/2023/11/Study-Space_High-table-2-cropped-300x200.png')
        center/cover no-repeat; color:#fff;">
      <div class="text-center mb-3">
        <i class="bi bi-person-vcard-fill me-2"></i>
        <span>Book Titles</span>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
